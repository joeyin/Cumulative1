@model IEnumerable<School.Models.Student>
@{
    ViewBag.Title = "List";
}

@section Scripts
{
    <script>
        $(function () {
          $("#n").val('@TempData["n"]');
          $("#n").change(function () {
            $("#v").prop("disabled", $("#n").val().trim().length === 0);
          });
          if ('@TempData["n"]'.trim().length) {
            $("#v").prop("disabled", false);
          }

      });
    </script>
}

<h2>List</h2>
<p>This page should be showing information about all students</p>

<div id="containerlist">
    <h4>Find a student</h4>
    <form method="get" class="row g-3">
        <div class="col-auto">
            <select name="n" id="n" class="form-select">
                <option value="">-</option>
                <option value="studentfname">First Name</option>
                <option value="studentlname">Last Nname</option>
                <option value="enroldate">Enrol Date(yyyy-MM-DD)</option>
            </select>
        </div>
        <div class="col-auto">
            <input type="text" class="form-control" id="v" name="v" value="@TempData["v"]" disabled />
        </div>
        <div class="col-auto">
            <button type="submit" class="btn btn-primary">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
                </svg>
                Search
            </button>
        </div>
    </form>

    <br />

    <h2>List of Students</h2>
    <ul class="list-group">
        @foreach (var student in Model)
        {
            <li class="list-group-item">
                <a href="/Student/Show/@student.StudentId">@student.StudentFname @student.StudentLname</a>
            </li>
        }
    </ul>
</div>